<!--
  File: 404.html
  Path: 404.html
  Description: GitHub Pages SPA redirect for MyTube.
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Redirecting…</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <script>
      /*
        GitHub Pages SPA Redirect Logic
        --------------------------------
        When a user loads a deep link like:
          /MyTube-Piped-Frontend/watch/abc123

        GitHub Pages serves 404.html.
        This script reconstructs the original path and redirects to:
          /MyTube-Piped-Frontend/index.html#!/watch/abc123

        React Router then takes over.
      */

      (function () {
        var l = window.location;
        var repo = "/MyTube-Piped-Frontend";

        // Remove the repo prefix from the path
        var path = l.pathname.replace(repo, "");

        // Build redirect URL
        var redirect = repo + "/index.html#!" + path + l.search + l.hash;

        // Perform redirect
        window.location.replace(redirect);
      })();
    </script>

    <style>
      body {
        margin: 0;
        padding: 40px;
        font-family: system-ui, sans-serif;
        background: #000;
        color: #fff;
        text-align: center;
      }
      a {
        color: #ff4444;
        text-decoration: underline;
      }
    </style>
  </head>

  <body>
    <h2>Redirecting…</h2>
    <p>If you are not redirected automatically, <a href="/MyTube-Piped-Frontend/">click here</a>.</p>
  </body>
</html>
