/* ============================================================
   File: src/index.css
   Purpose: Core layout shell for MyTube mobile app
   Notes:
     - .app-root becomes the fixed-height flex container
     - .app-content becomes the ONLY scrollable region
     - Footer, MiniPlayer, DebugOverlay are fixed overlays
     - Prevents content from covering footer/miniplayer
     - Fixes the "footer not visible" issue
   ============================================================ */

:root {
  --app-bg: #0a0a0a;
  --header-height: 112px;
  --footer-height: 64px;
  --text-muted: rgba(255, 255, 255, 0.7);
}

* {
  box-sizing: border-box;
}

/* ============================================================
   Global document sizing
   - html/body/#root MUST be 100% height
   - This allows .app-root to fill the screen
   ============================================================ */
html,
body,
#root {
  margin: 0;
  padding: 0;
  height: 100%;
  background: var(--app-bg);
  color: #fff;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

/* ============================================================
   .app-root
   - The entire app lives inside this container
   - MUST be flex column + height:100% + overflow:hidden
   - This prevents the entire page from scrolling
   - Only .app-content should scroll
   ============================================================ */
.app-root {
  display: flex;
  flex-direction: column;
  height: 100%;        /* CRITICAL: enables proper layout */
  overflow: hidden;    /* CRITICAL: prevents content from covering footer */
  background: var(--app-bg);
}

/* ============================================================
   .app-content
   - This is the ONLY scrollable region
   - flex:1 makes it fill remaining space between header/footer
   - overflow-y:auto ensures content scrolls INSIDE this box
   - padding-bottom MUST include footer + miniplayer height
   ============================================================ */
.app-content {
  flex: 1;                     /* CRITICAL: makes this the scroll container */
  overflow-y: auto;            /* CRITICAL: prevents content from covering footer */
  padding-top: var(--header-height);
  padding-bottom: calc(var(--footer-height) + 68px); 
  /* 68px = MiniPlayer height */
}

/* ============================================================
   Grid safety (unchanged)
   ============================================================ */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 12px;
  padding: 12px;
}

/* ============================================================
   PCC Overlay Kill Switch
   Purpose:
     - Removes ALL YouTube iframe overlays:
         • "Watch on YouTube"
         • Share button
         • Title overlay
         • Channel link
         • Cards / annotations
         • Watermark
         • End-screen suggestions
     - Keeps the duration in the bottom-right (YouTube renders
       that as part of the video UI, not as an overlay element)
   ============================================================ */

#yt-global-player a,
#yt-global-player button,
#yt-global-player .ytp-button,
#yt-global-player .ytp-chrome-top,
#yt-global-player .ytp-chrome-bottom,
#yt-global-player .ytp-show-cards-title,
#yt-global-player .ytp-cards-button-icon,
#yt-global-player .ytp-watermark,
#yt-global-player .ytp-pause-overlay,
#yt-global-player .ytp-ce-element,
#yt-global-player .ytp-ce-covering-overlay,
#yt-global-player .ytp-suggestion-set,
#yt-global-player .ytp-suggestion-overlay {
  pointer-events: none !important;
  opacity: 0 !important;
}
